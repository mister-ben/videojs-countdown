/*! videojs-countdown - v0.0.0 - 2015-10-08
* Copyright (c) 2015 Ben Clifford; Licensed Apache-2.0 */
!function(a,b){"use strict";var c,d={time:5,mute:!1};c=function(c){var e,f,g,h,i,j,k,l,m,n,o=this,p=!1,q=!1,r=navigator.userAgent;r.match(/iPad/i)||r.match(/iPhone/i)||r.match(/iPod/i)||r.match(/Android/i)||(e=b.VERSION.split(".")[0]>=5?b.mergeOptions(d,c):b.util.mergeOptions(d,c),b.addLanguage("de",{"Starts in {{seconds}} seconds...":"Beginnt in {{seconds}} Sekunden…","“{{title}}” is starting in {{seconds}} seconds...":"„{{title}}“ fängt in {{seconds}} Sekunden an…"}),n=function(){f=document.createElement("div"),f.className="vjs-countdown",g=o.mediainfo&&o.mediainfo.name&&""!==o.mediainfo.name?o.localize("“{{title}}” is starting in {{seconds}} seconds...").replace("{{title}}",o.mediainfo.name).replace("{{seconds}}",'<span class="vjs-overlay-seconds"> </span>'):o.localize("Starts in {{seconds}} seconds...").replace("{{seconds}}",'<span class="vjs-overlay-seconds"> </span>'),f.innerHTML="<p>"+g+' <a class="cancel">&#x2716;</a></p>',o.el().appendChild(f),j(o.el())},j=function(b){!i(b)||q||p||(0===e.time?(e.mute&&o.muted(!0),o.play()):l()),!i(b)&&p&&(a.console.log("clean up"),m())},l=function(){var b=f.querySelector(".vjs-overlay-seconds"),c=e.time;b.innerHTML=c,o.addClass("vjs-counting"),p=!0,h=a.setInterval(function(){c-=1,b.innerText=c,0===c&&(e.mute&&o.muted(!0),o.play())},1e3)},m=function(){p=!1,o.removeClass("vjs-counting"),a.clearInterval(h)},o.one("loadstart",function(){n(),k=function(){return j(o.el())},a.addEventListener?(a.addEventListener("DOMContentLoaded",k,!1),a.addEventListener("load",k,!1),a.addEventListener("scroll",k,!1),a.addEventListener("resize",k,!1)):a.attachEvent&&(a.attachEvent("onDOMContentLoaded",k),a.attachEvent("onload",k),a.attachEvent("onscroll",k),a.attachEvent("onresize",k)),f.querySelector(".cancel").addEventListener("click",function(){m(),q=!0}),o.on("play",function(){q=!0,p&&m()})}),i=function(b){var c=b.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom<=(a.innerHeight||document.documentElement.clientHeight)&&c.right<=(a.innerWidth||document.documentElement.clientWidth)})},b.plugin("countdown",c)}(window,window.videojs);